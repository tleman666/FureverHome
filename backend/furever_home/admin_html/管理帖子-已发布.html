<!DOCTYPE html>
<html class="light" lang="zh">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FUREVER HOME 管理后台 - 已发布的帖子</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
<style>
  .material-symbols-outlined {
    font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24;
  }
</style>
<script id="tailwind-config">
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        colors: {
          primary: '#1152d4',
          'background-light': '#f6f6f8',
          'background-dark': '#101622',
        },
        fontFamily: {
          display: ['Inter', 'sans-serif'],
        },
        borderRadius: {
          DEFAULT: '0.25rem',
          lg: '0.5rem',
          xl: '0.75rem',
          full: '9999px',
        },
      },
    },
  };
</script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark">
<div class="relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
<div class="flex h-full grow flex-row">
<aside class="flex h-screen w-64 flex-col bg-[#0D1117] p-4 text-white sticky top-0">
<div class="flex flex-1 flex-col gap-y-6">
<div class="flex gap-4 items-center pl-2">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-md size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCXgIEGQDxm_-u0_hGh3zLMrnSopanRetl40eBEzEZK5EuAzmRBjLSoHvTfChZUsRxhl-VkmKERbA8dzEfmZ0Lc7Eknq3IrtFS8nTd7yOq--6qN8nThXknq4Dc7yuS2F6JRnn0Lq5TvGd9eOQu1tCT8pzt3mINpyWwQjwcdAyj-0i0GbYn-BjJJ1TbMLXrWmMWqHYUTnao2jcQCpqu5SM6X3Kus-jTK34uXpMPa8s692RkVoKXgYaZqCNN-QAj1pjmnT34bKsjYDgI");'></div>
<h1 class="text-white text-base font-bold leading-normal">FUREVER HOME 管理后台</h1>
</div>
<nav class="flex flex-col gap-2 mt-4">
<a class="flex items-center gap-4 px-4 py-2.5 rounded-lg text-gray-400 hover:bg-white/10 hover:text-white" href="首页.html"><span class="material-symbols-outlined" style="font-size:24px;">grid_view</span><p class="text-sm font-medium">首页</p></a>
<a class="flex items-center gap-4 px-4 py-2.5 rounded-lg bg-[#2563EB]" href="#"><span class="material-symbols-outlined text-white" style="font-size:24px;">article</span><p class="text-sm font-medium text-white">帖子管理</p></a>
<a class="flex items-center gap-4 px-4 py-2.5 rounded-lg text-gray-400 hover:bg-white/10 hover:text-white" href="管理宠物-待审核短期.html"><span class="material-symbols-outlined" style="font-size:24px;">pets</span><p class="text-sm font-medium">宠物管理</p></a>
<a class="flex items-center gap-4 px-4 py-2.5 rounded-lg text-gray-400 hover:bg-white/10 hover:text-white" href="管理申请.html"><span class="material-symbols-outlined" style="font-size:24px;">assignment</span><p class="text-sm font-medium">申请管理</p></a>
</nav>
</div>
<div class="mt-auto flex flex-col">
<a class="flex items-center gap-4 px-4 py-2.5 rounded-lg text-gray-400 hover:bg-white/10 hover:text-white" href="#"><span class="material-symbols-outlined" style="font-size:24px;">logout</span><p class="text-sm font-medium leading-normal">退出登录</p></a>
</div>
</aside>
<main class="flex-1 p-8 space-y-6">
<header>
<h1 class="text-[#111318] dark:text-white text-3xl font-bold leading-tight tracking-[-0.033em]">管理帖子</h1>
</header>
<section class="bg-white dark:bg-[#181C25] rounded-xl border border-gray-100 dark:border-gray-800 shadow-sm">
<div class="flex flex-wrap border-b border-gray-100 dark:border-gray-800 text-sm font-medium">
<a class="py-4 px-6 text-gray-500 border-b-2 border-transparent hover:text-primary" href="管理帖子-待审核.html">待审核的帖子列表</a>
<a class="py-4 px-6 text-primary border-b-2 border-primary" href="管理帖子-已发布.html">已发布的帖子列表</a>
</div>
<div id="published-tab" class="post-tab">
<div class="p-5 flex flex-wrap gap-4 justify-between items-center border-b border-gray-100 dark:border-gray-800">
<div class="relative">
<input type="text" placeholder="搜索帖子..." class="pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-transparent text-sm text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/40" />
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
</div>
</div>
<div id="published-list" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-5 p-5"></div>
<div class="flex flex-wrap items-center justify-between gap-4 border-t border-gray-100 dark:border-gray-800 p-5">
<p class="text-sm text-gray-500 dark:text-gray-400" id="published-info">显示 0 到 0 条，共 0 条</p>
<div class="flex gap-2" id="published-pagination"></div>
</div>
</div>
</section>
</main>
</div>
</div>
<script>
const PAGE_SIZE = 10;
let currentPage = 1;
const publishedPosts = Array.from({ length: 68 }, (_, i) => ({
  id: 1001 + i,
  title: `城市救助记录 ${1001 + i}`,
  excerpt: '志愿者分享了一次温暖的救助经历，介绍了宠物的康复计划与社区支持。',
  author: ['张三', '李四', '王五', '赵六', '孙七'][i % 5],
  time: `2023-0${(i % 6) + 1}-${(i % 28) + 1} ${8 + (i % 10)}:${(i * 7) % 60}`,
}));

document.addEventListener('DOMContentLoaded', () => {
  renderList(1);
});

function renderList(page) {
  const total = publishedPosts.length;
  const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));
  currentPage = Math.max(1, Math.min(page, totalPages));
  const start = (currentPage - 1) * PAGE_SIZE;
  const end = Math.min(start + PAGE_SIZE, total);
  const current = publishedPosts.slice(start, end);
  const list = document.getElementById('published-list');
  list.innerHTML = current.map(post => `
    <div class="rounded-2xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-[#1C202B] shadow-sm p-5 flex flex-col gap-4">
      <span class="px-2 py-1 rounded-full text-xs bg-primary/10 text-primary">#${post.id}</span>
      <div class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400">
        <div class="flex items-center gap-3">
          <div class="size-9 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-medium">头像</div>
          <div class="flex flex-col">
            <span class="text-gray-900 dark:text-white">${post.author}</span>
          </div>
        </div>
        <div class="flex items-center gap-2 text-xs">
          <span class="material-symbols-outlined text-base text-gray-400">schedule</span>
          <span>${post.time}</span>
        </div>
      </div>
      <div class="flex items-start gap-3">
        <div>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${post.title}</h3>
          <p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-2">${post.excerpt}</p>
        </div>
      </div>
      <div class="flex items-center justify-end gap-2">
        <button title="删除" class="inline-flex items-center justify-center rounded-full size-9 border border-transparent text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30">
          <span class="material-symbols-outlined">delete</span>
        </button>
        <button title="查看详情" class="inline-flex items-center justify-center rounded-full size-9 border border-transparent text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30">
          <span class="material-symbols-outlined">visibility</span>
        </button>
      </div>
    </div>`).join('');
  document.getElementById('published-info').textContent = `显示 ${total ? start + 1 : 0} 到 ${end} 条，共 ${total} 条`;
  renderPagination(totalPages);
}

function renderPagination(totalPages) {
  const container = document.getElementById('published-pagination');
  container.innerHTML = '';
  container.appendChild(createPagerButton('上一页', currentPage === 1, () => renderList(currentPage - 1)));
  const startPage = Math.max(1, currentPage - 2);
  const endPage = Math.min(totalPages, startPage + 4);
  for (let i = startPage; i <= endPage; i++) {
    const pageBtn = createPagerButton(i, false, () => renderList(i));
    if (i === currentPage) {
      pageBtn.classList.add('bg-primary', 'text-white', 'border-primary');
      pageBtn.classList.remove('text-gray-700', 'dark:text-gray-300');
    }
    container.appendChild(pageBtn);
  }
  container.appendChild(createPagerButton('下一页', currentPage === totalPages, () => renderList(currentPage + 1)));
}

function createPagerButton(label, disabled, handler) {
  const btn = document.createElement('button');
  btn.textContent = label;
  btn.className = 'px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed';
  btn.disabled = disabled;
  if (!disabled) btn.onclick = handler;
  return btn;
}
</script>
</body>
</html>

