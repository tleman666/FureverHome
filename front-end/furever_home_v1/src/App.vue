<!-- å®šä¹‰Vueç»„ä»¶çš„æ¨¡æ¿éƒ¨åˆ† -->
<template>
  <!-- æ ¹å®¹å™¨ï¼Œè®¾ç½®åŸºæœ¬æ ·å¼ï¼šèƒŒæ™¯è‰²ã€å­—ä½“å’Œæ–‡æœ¬é¢œè‰²ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼ -->
  <div class="bg-background-light dark:bg-background-dark font-display text-gray-700 dark:text-gray-300 min-h-screen">
    <!-- ä»…ééšè—å¸ƒå±€æ—¶æ˜¾ç¤ºå¯¼èˆª -->
    <header v-if="!hideChrome" class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-100 shadow-sm">
      <nav class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
        <div class="flex items-center space-x-2">
          <span class="material-icons text-primary text-3xl">pets</span>
          <span class="text-xl font-bold tracking-wide text-gray-800">FUREVER HOME</span>
        </div>
        <div class="hidden md:flex items-center space-x-6 text-sm font-medium">
          <RouterLink to="/home" class="text-gray-600 hover:text-primary transition-colors relative">é¦–é¡µ</RouterLink>
          <RouterLink to="/petList" class="text-gray-600 hover:text-primary transition-colors relative">å® ç‰©åˆ—è¡¨</RouterLink>
          <RouterLink to="/forum" class="text-gray-600 hover:text-primary transition-colors relative">å® ç‰©è®ºå›</RouterLink>
          <RouterLink to="/talk" class="text-gray-600 hover:text-primary transition-colors relative">æ²Ÿé€šå¯¹æ¥</RouterLink>
        </div>
        <button type="button" @click="openProfile" class="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-primary hover:bg-gray-50 transition-colors">
          <span class="material-icons text-lg">account_circle</span>
          <span class="hidden sm:inline">ç”¨æˆ·</span>
        </button>
      </nav>
    </header>
    <!-- ä¸»å†…å®¹ï¼šProfile å…¨å±å ä½ï¼ˆå»é™¤å†…è¾¹è·ä¸é™åˆ¶ï¼‰ -->
    <main :class="hideChrome ? 'min-h-screen' : 'container mx-auto px-6 py-8'">
      <RouterView />
    </main>
    <!-- ééšè—å¸ƒå±€æ˜¾ç¤ºé¡µè„š -->
    <footer v-if="!hideChrome" class="bg-slate-800 dark:bg-zinc-950 text-slate-300 mt-12">
      <div class="container mx-auto px-6 py-12">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div>
            <h3 class="text-lg font-semibold text-white">æ•°æ®ç»Ÿè®¡</h3>
            <p class="mt-2 text-sm max-w-md">æˆ‘ä»¬ä¸å¤šå®¶æ•‘åŠ©ç«™å»ºç«‹äº†é•¿æœŸåˆä½œå…³ç³»ï¼Œè‡´åŠ›äºä¸ºæµæµªåŠ¨ç‰©æä¾›æ›´å¥½çš„ä¸´æ—¶å®‰ç½®å’Œé•¿æœŸé¢†å…»æœåŠ¡ã€‚</p>
            <RouterLink class="mt-4 inline-block text-primary hover:text-orange-300 transition-colors text-sm" to="/shelters">æŸ¥çœ‹åˆä½œæ•‘åŠ©ç«™ â†’</RouterLink>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-white">è”ç³»å¼€å‘å›¢é˜Ÿ</h3>
            <p class="mt-2 text-sm max-w-md">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€å»ºè®®æˆ–åˆä½œæ„å‘ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬çš„å¼€å‘å›¢é˜Ÿã€‚</p>
            <div class="mt-4 flex space-x-4">
              <RouterLink class="text-2xl hover:text-white" to="/chat">ğŸ’¬</RouterLink>
              <RouterLink class="text-2xl hover:text-white" to="/contact">ğŸ’Œ</RouterLink>
              <RouterLink class="text-2xl hover:text-white" to="/about">ğŸŒ</RouterLink>
            </div>
          </div>
        </div>
        <div class="border-t border-slate-700 dark:border-zinc-800 mt-8 pt-6 text-center text-sm text-slate-400">
          <p>Â© 2025 FUREVERHOMEæµæµªåŠ¨ç‰©é¢†å…»å¹³å° - è®©æ¯ä¸ªç”Ÿå‘½éƒ½æœ‰æ¸©æš–çš„å®¶</p>
        </div>
      </div>
    </footer>
  </div>
</template>

<!-- Vueç»„ä»¶çš„è„šæœ¬éƒ¨åˆ†ï¼Œä½¿ç”¨TypeScript -->
<script setup lang="ts">
import { RouterLink, RouterView, useRouter, useRoute } from 'vue-router';
import { computed } from 'vue';

const router = useRouter();
const route = useRoute();

const hideChrome = computed(() => route.meta.hideNav === true);

function openProfile() {
  const r = router.resolve('/user/profile');
  window.open(r.href, '_blank', 'noopener');
}
</script>

<!-- Vueç»„ä»¶çš„æ ·å¼éƒ¨åˆ†ï¼Œä½¿ç”¨scopedä½œç”¨åŸŸ -->
<style scoped>
  /* ç§»é™¤å†…è”æ ·å¼ï¼Œç»Ÿä¸€ä½¿ç”¨Tailwindç±» */
  /* Material Iconså­—ä½“å·²åœ¨main.cssä¸­å¯¼å…¥ */

  /* ä¸ºRouterLinkç»„ä»¶æ·»åŠ ä¸aæ ‡ç­¾ç›¸åŒçš„hoveræ•ˆæœ */
  .router-link-active {
    color: rgb(146, 37, 37);
  }

  .router-link-exact-active {
    font-weight: 500;
  }

/* CDN Tailwind ä¸æ”¯æŒ @applyï¼Œè¿™é‡Œä¸ä½¿ç”¨è¾…åŠ©ç±» */
</style>